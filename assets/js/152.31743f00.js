(window.webpackJsonp=window.webpackJsonp||[]).push([[152],{616:function(n,e,o){"use strict";o.r(e),e.default='<template>\n  <FormProvider :form="form">\n    <SchemaField>\n      <SchemaArrayField\n        name="array"\n        :maxItems="3"\n        x-component="ArrayCollapse"\n        x-decorator="FormItem"\n        :x-component-props="{\n          title: \'对象数组\',\n        }"\n      >\n        <SchemaObjectField\n          x-component="ArrayCollapseItem"\n          x-decorator="FormItem"\n          :x-component-props="{\n            title: \'对象数组\',\n          }"\n        >\n          <SchemaVoidField x-component="ArrayCollapseIndex" />\n          <SchemaStringField\n            name="aa"\n            x-decorator="FormItem"\n            title="AA"\n            required\n            description="AA输入123时隐藏BB"\n            x-component="Input"\n          />\n          <SchemaStringField\n            name="bb"\n            x-decorator="FormItem"\n            title="BB"\n            required\n            x-component="Input"\n          />\n          <SchemaStringField\n            name="cc"\n            x-decorator="FormItem"\n            title="CC"\n            required\n            description="CC输入123时隐藏DD"\n            x-component="Input"\n          />\n          <SchemaStringField\n            name="dd"\n            x-decorator="FormItem"\n            title="DD"\n            required\n            x-component="Input"\n          />\n          <SchemaVoidField x-component="ArrayCollapseRemove" />\n          <SchemaVoidField x-component="ArrayCollapseMoveUp" />\n          <SchemaVoidField x-component="ArrayCollapseMoveDown" />\n        </SchemaObjectField>\n        <SchemaVoidField x-component="ArrayCollapseAddition" title="添加条目" />\n      </SchemaArrayField>\n    </SchemaField>\n    <Submit @submit="log">提交</Submit>\n  </FormProvider>\n</template>\n\n<script>\nimport { createForm, onFieldChange, onFieldReact } from \'@formily/core\'\nimport { FormProvider, createSchemaField } from \'@formily/vue\'\nimport {\n  FormItem,\n  FormButtonGroup,\n  Submit,\n  Input,\n  ArrayCollapse,\n  ArrayCollapseItem,\n  ArrayCollapseRemove,\n  ArrayCollapseMoveDown,\n  ArrayCollapseMoveUp,\n  ArrayCollapseAddition,\n  ArrayCollapseIndex,\n} from \'@formily/element\'\nimport { Button } from \'element-ui\'\n\nconst SchemaField = createSchemaField({\n  components: {\n    FormItem,\n    Input,\n    ArrayCollapse,\n    ArrayCollapseItem,\n    ArrayCollapseRemove,\n    ArrayCollapseMoveDown,\n    ArrayCollapseMoveUp,\n    ArrayCollapseAddition,\n    ArrayCollapseIndex,\n  },\n})\n\nexport default {\n  components: {\n    FormProvider,\n    FormButtonGroup,\n    Button,\n    Submit,\n    ...SchemaField,\n  },\n\n  data() {\n    const form = createForm({\n      effects: () => {\n        //主动联动模式\n        onFieldChange(\'array.*.aa\', [\'value\'], (field, form) => {\n          form.setFieldState(field.query(\'.bb\'), (state) => {\n            state.visible = field.value != \'123\'\n          })\n        })\n        //被动联动模式\n        onFieldReact(\'array.*.dd\', (field) => {\n          field.visible = field.query(\'.cc\').get(\'value\') != \'123\'\n        })\n      },\n    })\n\n    return {\n      form,\n    }\n  },\n  methods: {\n    log(values) {\n      console.log(values)\n    },\n  },\n}\n<\/script>\n\n<style lang="scss" scoped></style>\n'}}]);